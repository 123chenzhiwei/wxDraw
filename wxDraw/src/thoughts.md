- store
- animation
- painter
- handler



TODO 
- base shape
    - rect
    - arc
    - polygon
    - img
- drag
- event 
  - click 
  - touch
  - hover




##### animationFrame是暴露给用户还是自己内部调用？？？

##### 终于明白 eventBus 在这里的作用了。。。 
- 父级 调子集 可以直接调用 但是自己没法调用父集 那就可以。。。把父集穿进去  或者 把bus传进去


##### 动画延续性
animate之后 如何继续调animate？ 在目标模式下不会有什么 问题 直接按照目标来就行了，但是在自增模式下就会有问题所以动画渲染上 不能拿直接就push进数组 然后开始动画，应该有一个专门的动画
排队器，如果是
  - 同时调用 那就是平级动画
  - 链式调用那就是 顺序动画

### eventbus简直不要太好用 ！！！


- 拖拽层级
- 碰撞检测
- 物体多维动画
  - 简单多维
- 颜色渐变动画


### 动画的暂停 循环 以及 开始

动画添加后先不回自动运行，而是在父集将其动画改成了 true的时候 才会 开始自己的动画
不过 尴尬的是 animate的时候我就讲动画添加到 Animation主管的aniamrionList里面
所以这里需要在这里让他调用 start，然后将动画加在里面去，而且 这里加一个flag 就是是否循环这个动画，循环，那就需要记录初始状态，在此物体此次动画结束之后，继续此次动画，但是问题就在这里了。。。什么叫此次动画。。。是不是每单独调一次那就算是一次动画？？？
为了区别单独掉一次，与连续调，是不是animate里面return 出来的要加点东西，加一个暗号，就是在animate开始调了的时候, 到最后start 就算是一次

### 物体的碰撞 我觉得不应该放在物体上 而是放在 一个单独的碰撞检测上 用于控制动效 因为这是模拟物理的 要写一个模拟物理引擎 

### 对于用户自定义的图形 
- 自定义点位 
- 自定义点位之后确定中心
- 动画只有rotate 其余没有
- setOption的时候 可以 设置点位吗？不然只能设置 style了


### 似乎旋转之后的检测也是有问题的
图形旋转了 但是检测的点并没有跟着一起旋转。。。 有问题 
也就是 旋转了监测点也得变 但是物体的坐标不会变 这里就要单独拎出来一个监测点变化 监测点是用于鼠标点击检测的 

### 物体的旋转平移缩放 都得改成矩阵的形式才行。。。
这样才能便于计算。。。


- 投影轴定理
- pnp算法 点在多边形 内部算法 ![ZHE](http://blog.csdn.net/hjh2005/article/details/9246967)
- 矩阵变换
  点位按照 某个点旋转 [->](http://blog.csdn.net/csxiaoshui/article/details/65446125) 这个有问题 ！！！
   还有这个 。。。 不用矩阵也行 [](https://stackoverflow.com/questions/2259476/rotating-a-point-about-another-point-2d)
   [看这个](https://math.stackexchange.com/questions/2093314/rotation-matrix-and-of-rotation-around-a-point)


### 函数还是 定义得 对外留接口 少点隐形的内部变量


### 万一用户是凹多边形呢 

### 关于用户 定义形状  的动画我觉得应该支持的动画
- 平移 这个就不行了 需要在frag里面添加一个 特殊属性支持
- 旋转 Option里面的rotate就可以

- 缩放？？？ //这个就得全部都加上 


### 层级自动转换 ？


### TODO 
- 用户自定义点击事件
- 用户自定义拖拽事件
- 点击高亮 划入高亮？？
- 线条
- 运动时刻无法点击
- 贝塞尔曲线
- 曲线点击